# MarkItDown Server Configuration
# Copy this file to .env and fill in your values
# Do NOT commit .env to version control

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port (default: 8490)
PORT=8490

# Number of uvicorn workers (default: 1)
WORKERS=1

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
# Use DEBUG to see detailed timing and conversion progress
LOG_LEVEL=INFO

# Rate limiting (default: disabled)
ENABLE_RATE_LIMIT=false
RATE_LIMIT=60/minute

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Enable API key authentication (default: false)
# When enabled, all requests to /process_file require a valid API key
ENABLE_AUTH=false

# API keys (comma-separated list of valid keys)
# Example: API_KEYS=key1,key2,key3
# Generate secure keys with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=

# Maximum file size in bytes (default: 50MB = 52428800)
MAX_FILE_SIZE=52428800

# =============================================================================
# LLM CONFIGURATION (for image captioning and enhanced processing)
# =============================================================================

# LLM Provider: 'openai', 'azure_openai', or leave empty to disable
LLM_PROVIDER=

# Model name or deployment name (default: gpt-4o)
LLM_MODEL=gpt-4o

# Custom prompt for image descriptions (optional)
LLM_PROMPT=

# -----------------------------------------------------------------------------
# OpenAI Configuration (when LLM_PROVIDER=openai)
# -----------------------------------------------------------------------------

# OpenAI API key
OPENAI_API_KEY=

# Custom base URL for OpenAI-compatible APIs (e.g., LiteLLM proxy)
# Leave empty to use default OpenAI API
# Examples:
#   - LiteLLM: http://localhost:4000/v1
#   - Azure OpenAI proxy: https://your-proxy.com/v1
OPENAI_BASE_URL=

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration (when LLM_PROVIDER=azure_openai)
# -----------------------------------------------------------------------------

# Azure OpenAI endpoint URL
AZURE_OPENAI_ENDPOINT=

# Azure OpenAI API key
AZURE_OPENAI_API_KEY=

# Azure OpenAI API version (default: 2024-02-15-preview)
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# =============================================================================
# AZURE DOCUMENT INTELLIGENCE (for enhanced PDF/document processing)
# =============================================================================

# Azure Document Intelligence endpoint URL
# Example: https://your-resource.cognitiveservices.azure.com
AZURE_DOCINTEL_ENDPOINT=

# Azure Document Intelligence API key
AZURE_DOCINTEL_API_KEY=

# File types to process with Azure Document Intelligence (comma-separated)
# Supported: pdf,docx,xlsx,pptx,png,jpg,tiff,bmp
# Leave empty to use all supported types
AZURE_DOCINTEL_FILE_TYPES=

# =============================================================================
# OTHER FEATURES
# =============================================================================

# Enable third-party MarkItDown plugins (default: false)
ENABLE_PLUGINS=false

# Custom path to ExifTool binary (optional, auto-detected by default)
EXIFTOOL_PATH=
